package com.zlp.sales;import java.util.Random;import org.achartengine.ChartFactory;import org.achartengine.chart.PointStyle;import org.achartengine.model.XYMultipleSeriesDataset;import org.achartengine.model.XYSeries;import org.achartengine.renderer.XYMultipleSeriesRenderer;import org.achartengine.renderer.XYSeriesRenderer;import android.content.Context;import android.content.Intent;import android.graphics.Color;import android.graphics.Paint.Align;import android.os.Bundle;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.View.OnClickListener;import android.view.ViewGroup;import android.widget.TextView;/** * 查看历史记录 *  * @author zouliping *  */public class CheckHistoryFragment extends Fragment {	private Context mContext;	private View mainView;	private TextView tvCheckHistory;	@Override	public View onCreateView(LayoutInflater inflater, ViewGroup container,			Bundle savedInstanceState) {		mainView = inflater.inflate(R.layout.check_history_layout, null);		mContext = getActivity();		initViews();		return mainView;	}	private void initViews() {		tvCheckHistory = (TextView) mainView				.findViewById(R.id.check_history_tv);		tvCheckHistory.setOnClickListener(listener);	}	private OnClickListener listener = new OnClickListener() {		@Override		public void onClick(View v) {			switch (v.getId()) {			case R.id.check_history_tv:				Intent intent = ChartFactory.getLineChartIntent(mContext,						getDataset(), getRenderer());				startActivity(intent);				break;			default:				break;			}		}		private XYMultipleSeriesDataset getDataset() {			XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();			Random r = new Random();			XYSeries series = new XYSeries("历史记录");			for (int i = 0; i < 12; i++) {				int x = r.nextInt() % 12;				int y = 50 + r.nextInt() % 50;				series.add(x, y);			}			dataset.addSeries(series);			return dataset;		}		private XYMultipleSeriesRenderer getRenderer() {			XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();			XYSeriesRenderer r = new XYSeriesRenderer();			PointStyle style = PointStyle.DIAMOND;			r.setPointStyle(style);			r.setColor(Color.BLUE);			r.setLineWidth(3);			// int length = renderer.getSeriesRendererCount();			// for (int i = 0; i < length; i++) {			// ((XYSeriesRenderer) renderer.getSeriesRendererAt(i))			// .setFillPoints(true);// 设置图上的点为实心			// }			setChartSettings(renderer);			renderer.addSeriesRenderer(r);			return renderer;		}		/**		 * 设置XYMultipleSeriesRenderer的部分参数		 * 		 * @param renderer		 */		private void setChartSettings(XYMultipleSeriesRenderer renderer) {			renderer.setPointSize(5);			renderer.setXTitle("x 月份");			renderer.setYTitle("y 销售提成");			renderer.setXLabelsAlign(Align.RIGHT); // 设置x轴刻度的数值显示在x轴的下方			renderer.setYLabelsAlign(Align.RIGHT); // 设置y轴刻度的数值显示在y轴的左方			renderer.setChartTitle("历史数据一览");			renderer.setAxisTitleTextSize(20); // 设置坐标标题字体大小			renderer.setPanEnabled(true, false); // 允许左右拖动,但不允许上下拖动			renderer.setChartTitleTextSize(25); // 设置数量的字体大小			renderer.setLabelsTextSize(20); // 坐标字体大小			renderer.setLegendTextSize(20); // 设置图例字体大小			// renderer.setDisplayChartValues(true); // 设置显示数据			renderer.setXLabels(12);			renderer.setZoomButtonsVisible(true); // 显示缩放按钮			renderer.setMargins(new int[] { 20, 30, 15, 0 }); // 设置4边margin		}	};}